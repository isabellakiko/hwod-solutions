{
  "id": "73",
  "title": "数组连续和",
  "examType": "A",
  "score": 100,
  "description": "给定一个含有N个正整数的数组, 求出有多少个连续区间（包括单个正整数）, 它们的和大于等于x。\n",
  "inputDesc": "第一行两个整数N x（0 < N <= 100000, 0 <= x <= 10000000)\n第二行有N个正整数（每个正整数小于等于100)。\n",
  "outputDesc": "输出一个整数，表示所求的区间个数。",
  "examples": [
    {
      "input": "3 7\n3 4 7",
      "output": "4",
      "explanation": "区间[3,4,7]和14>=7，[4,7]和11>=7，[7]和7>=7，[3,4]和7>=7，共4个区间。"
    },
    {
      "input": "5 5\n1 2 3 4 5",
      "output": "6",
      "explanation": "满足条件的区间：[1,2,3]、[2,3]、[1,2,3,4]、[2,3,4]、[3,4]等共6个。"
    },
    {
      "input": "4 10\n1 2 3 4",
      "output": "1",
      "explanation": "只有整个数组[1,2,3,4]的和为10，满足>=10。"
    }
  ],
  "solution": "**解题思路：**\n\n本题是一道**前缀和+双指针**问题。\n\n**算法步骤：**\n1. 计算前缀和数组preSum，preSum[i]表示arr[0..i-1]的和\n2. 由于数组元素都是正整数，前缀和数组单调递增\n3. 使用双指针l和r，当preSum[r]-preSum[l]>=x时\n4. 由于单调性，所有r之后的位置都满足条件，个数为n-r+1\n5. 左指针右移，继续寻找下一个满足条件的区间\n\n**时间复杂度**：O(N)",
  "codes": {
    "java": "import java.util.Scanner;\n\npublic class Main {\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    int n = sc.nextInt();\n    int x = sc.nextInt();\n\n    int[] arr = new int[n];\n    for (int i = 0; i < n; i++) arr[i] = sc.nextInt();\n    System.out.println(getResult(n, x, arr));\n  }\n\n  public static long getResult(int n, int x, int[] arr) {\n    int[] preSum = new int[n + 1];\n\n    for (int i = 1; i <= n; i++) {\n      preSum[i] = preSum[i - 1] + arr[i - 1];\n    }\n\n    int l = 0;\n    int r = 1;\n    long ans = 0;\n\n    while (r <= n) {\n      if (preSum[r] - preSum[l] >= x) {\n        ans += n - r + 1;\n        l++;\n        r = l + 1;\n      } else {\n        r++;\n      }\n    }\n\n    return ans;\n  }\n}",
    "python": "import sys\n\n# 输入获取\nn, x = map(int, input().split())\narr = list(map(int, sys.stdin.readline().split()))\n \n \n# 算法入口\ndef getResult():\n    preSum = [0]*(n+1)\n \n    for i in range(1, n+1):\n        preSum[i] = preSum[i-1] + arr[i-1]\n \n    l = 0\n    r = 1\n    ans = 0\n \n    while r <= n:\n        if preSum[r] - preSum[l] >= x:\n            ans += n - r + 1\n            l += 1\n            r = l + 1\n        else:\n            r += 1\n \n    return ans\n \n \n# 算法调用\nprint(getResult())",
    "javascript": "const readline = require('readline');\n\nconst rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout\n});\n\nconst lines = [];\nrl.on('line', (line) => {\n    lines.push(line);\n    if (lines.length === 2) {\n        const [n, x] = lines[0].split(' ').map(Number);\n        const arr = lines[1].split(' ').map(Number);\n        \n        const preSum = new Array(n + 1).fill(0);\n        for (let i = 1; i <= n; i++) {\n            preSum[i] = preSum[i - 1] + arr[i - 1];\n        }\n        \n        let l = 0, r = 1, ans = 0;\n        while (r <= n) {\n            if (preSum[r] - preSum[l] >= x) {\n                ans += n - r + 1;\n                l++;\n                r = l + 1;\n            } else {\n                r++;\n            }\n        }\n        \n        console.log(ans);\n        rl.close();\n    }\n});",
    "cpp": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n    int n, x;\n    cin >> n >> x;\n    \n    vector<int> arr(n);\n    for (int i = 0; i < n; i++) {\n        cin >> arr[i];\n    }\n    \n    vector<long long> preSum(n + 1, 0);\n    for (int i = 1; i <= n; i++) {\n        preSum[i] = preSum[i - 1] + arr[i - 1];\n    }\n    \n    int l = 0, r = 1;\n    long long ans = 0;\n    \n    while (r <= n) {\n        if (preSum[r] - preSum[l] >= x) {\n            ans += n - r + 1;\n            l++;\n            r = l + 1;\n        } else {\n            r++;\n        }\n    }\n    \n    cout << ans << endl;\n    return 0;\n}",
    "c": "#include <stdio.h>\n#include <stdlib.h>\n\nint main() {\n    int n, x;\n    scanf(\"%d %d\", &n, &x);\n    \n    int* arr = (int*)malloc(n * sizeof(int));\n    for (int i = 0; i < n; i++) {\n        scanf(\"%d\", &arr[i]);\n    }\n    \n    long long* preSum = (long long*)calloc(n + 1, sizeof(long long));\n    for (int i = 1; i <= n; i++) {\n        preSum[i] = preSum[i - 1] + arr[i - 1];\n    }\n    \n    int l = 0, r = 1;\n    long long ans = 0;\n    \n    while (r <= n) {\n        if (preSum[r] - preSum[l] >= x) {\n            ans += n - r + 1;\n            l++;\n            r = l + 1;\n        } else {\n            r++;\n        }\n    }\n    \n    printf(\"%lld\\n\", ans);\n    \n    free(arr);\n    free(preSum);\n    return 0;\n}"
  }
}