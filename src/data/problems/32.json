{
  "id": "32",
  "title": "智能成绩表",
  "examType": "A",
  "score": 100,
  "description": "小明来到学校当老师，需要将学生按考试总分或单科分数进行排名，你能帮帮他吗？",
  "inputDesc": "第 1 行输入两个整数，学生人数 n 和科目数量 m。\n0 < n < 1000 < m < 10\n第 2 行输入 m 个科目名称，彼此之间用空格隔开。\n科目名称只由英文字母构成，单个长度不超过10个字符。科目的出现顺序和后续输入的学生成绩一一对应。不会出现重复的科目名称。\n第 3 行开始的 n 行，每行包含一个学生的姓名和该生 m 个科目的成绩（空格隔开）\n学生不会重名。学生姓名只由英文字母构成，长度不超过10个字符。成绩是0~100的整数，依次对应第2行种输入的科目。\n第n+2行，输入用作排名的科目名称。若科目不存在，则按总分进行排序。",
  "outputDesc": "输出一行，按成绩排序后的学生名字，空格隔开。成绩相同的按照学生姓名字典顺序排序。",
  "examples": [
    {
      "input": "3 2\nyuwen shuxue\nfangfang 95 90\nxiaohua 88 98\nminmin 100 82\nshuxue",
      "output": "xiaohua fangfang minmin",
      "explanation": "3个学生，2门科目。\n按shuxue（数学）成绩排序：xiaohua(98) > fangfang(90) > minmin(82)"
    },
    {
      "input": "3 2\nyuwen shuxue\nfangfang 95 90\nxiaohua 88 95\nminmin 90 95\nzongfen",
      "output": "fangfang minmin xiaohua",
      "explanation": "排序科目\"zongfen\"不存在，按总分排序。\nfangfang(185)、minmin(185)、xiaohua(183)\nfangfang和minmin总分相同，按姓名字典序，fangfang在前。"
    }
  ],
  "solution": "**解题思路：**\n\n本题是一道**排序**问题。\n\n**算法步骤：**\n\n1. 读取学生人数n和科目数量m\n2. 读取m个科目名称\n3. 读取n个学生的姓名和各科成绩，同时计算总分\n4. 读取排序依据的科目名称\n5. 判断科目是否存在：\n   - 存在：按该科目成绩降序排序\n   - 不存在：按总分降序排序\n6. 成绩相同时，按姓名字典序升序排序\n\n**时间复杂度**：O(n log n)",
  "codes": {
    "java": "import java.util.*;\n\npublic class Main {\n    // 定义学生类\n    static class Student {\n        String name; // 学生姓名\n        int totalScore; // 学生总分\n        Map<String, Integer> scores; // 存储学生各科成绩的映射\n\n        // 构造函数，初始化学生姓名、成绩映射和总分\n        Student(String name) {\n            this.name = name;\n            this.scores = new HashMap<>();\n            this.totalScore = 0;\n        }\n\n        // 添加成绩的方法，同时累加到总分\n        void addScore(String subject, int score) {\n            scores.put(subject, score);\n            totalScore += score;\n        }\n\n        // 获取指定科目的成绩，若没有则返回0\n        int getScore(String subject) {\n            return scores.getOrDefault(subject, 0);\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        // 读取学生人数和科目数量\n        int n = scanner.nextInt();\n        int m = scanner.nextInt();\n        scanner.nextLine(); // 读取并忽略换行符\n\n        // 读取科目名称\n        String[] subjects = scanner.nextLine().split(\" \");\n        List<Student> students = new ArrayList<>();\n\n        // 读取每个学生的姓名和成绩\n        for (int i = 0; i < n; i++) {\n            String[] tokens = scanner.nextLine().split(\" \");\n            Student student = new Student(tokens[0]);\n            for (int j = 0; j < m; j++) {\n                student.addScore(subjects[j], Integer.parseInt(tokens[j + 1]));\n            }\n            students.add(student);\n        }\n\n        // 读取用作排名的科目名称\n        String rankSubject = scanner.nextLine();\n        // 关闭扫描器\n        scanner.close();\n\n        // 对学生列表进行排序\n        students.sort((s1, s2) -> {\n            // 根据指定科目或总分进行比较\n            int score1 = rankSubject.equals(\"\") ? s1.totalScore : s1.getScore(rankSubject);\n            int score2 = rankSubject.equals(\"\") ? s2.totalScore : s2.getScore(rankSubject);\n            if (score1 != score2) {\n                return score2 - score1; // 降序排序\n            } else {\n                return s1.name.compareTo(s2.name); // 成绩相同则按姓名升序排序\n            }\n        });\n\n        // 输出排序后的学生姓名\n        students.forEach(student -> System.out.print(student.name + \" \"));\n    }\n}",
    "python": "# 导入必要的库\nfrom collections import defaultdict\n\n# 定义学生类\nclass Student:\n    def __init__(self, name):\n        self.name = name  # 学生姓名\n        self.total_score = 0  # 学生总分\n        self.scores = defaultdict(int)  # 存储学生各科成绩的字典，默认值为0\n\n    # 添加成绩的方法，同时累加到总分\n    def add_score(self, subject, score):\n        self.scores[subject] = score\n        self.total_score += score\n\n    # 获取指定科目的成绩\n    def get_score(self, subject):\n        return self.scores[subject]\n\n# 主函数\ndef main():\n    # 读取学生人数和科目数量\n    n, m = map(int, input().split())\n    \n    # 读取科目名称\n    subjects = input().split()\n    students = []\n\n    # 读取每个学生的姓名和成绩\n    for _ in range(n):\n        tokens = input().split()\n        student = Student(tokens[0])\n        for j in range(m):\n            student.add_score(subjects[j], int(tokens[j + 1]))\n        students.append(student)\n\n    # 读取用作排名的科目名称\n    rank_subject = input()\n\n    # 对学生列表进行排序\n    students.sort(key=lambda s: (-s.get_score(rank_subject) if rank_subject else -s.total_score, s.name))\n\n    # 输出排序后的学生姓名\n    for student in students:\n        print(student.name, end=' ')\n\n# 调用主函数\nif __name__ == \"__main__\":\n    main()",
    "javascript": "// 引入 readline 模块用于读取命令行输入\nconst readline = require('readline');\n\n// 创建 readline 接口实例\nconst rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout\n});\n\n// 定义学生类\nclass Student {\n  constructor(name) {\n    this.name = name; // 学生姓名\n    this.totalScore = 0; // 学生总分\n    this.scores = {}; // 存储学生各科成绩的映射\n  }\n\n  // 添加成绩的方法，同时累加到总分\n  addScore(subject, score) {\n    this.scores[subject] = score;\n    this.totalScore += score;\n  }\n\n  // 获取指定科目的成绩，若没有则返回0\n  getScore(subject) {\n    return this.scores[subject] || 0;\n  }\n}\n\n// 创建一个异步处理函数\nasync function processInput() {\n  // 通过 readline 逐行读取输入\n  const lines = [];\n  for await (const line of rl) {\n    lines.push(line);\n  }\n\n  // 解析输入数据\n  const [n, m] = lines[0].split(' ').map(Number);\n  const subjects = lines[1].split(' ');\n  const students = [];\n\n  // 读取每个学生的姓名和成绩\n  for (let i = 0; i < n; i++) {\n    const tokens = lines[i + 2].split(' ');\n    const student = new Student(tokens[0]);\n    for (let j = 0; j < m; j++) {\n      student.addScore(subjects[j], parseInt(tokens[j + 1], 10));\n    }\n    students.push(student);\n  }\n\n  // 读取用作排名的科目名称\n  const rankSubject = lines[n + 2];\n\n  // 对学生列表进行排序\n  students.sort((s1, s2) => {\n    const score1 = rankSubject === '' ? s1.totalScore : s1.getScore(rankSubject);\n    const score2 = rankSubject === '' ? s2.totalScore : s2.getScore(rankSubject);\n    if (score1 !== score2) {\n      return score2 - score1; // 降序排序\n    } else {\n      return s1.name.localeCompare(s2.name); // 成绩相同则按姓名升序排序\n    }\n  });\n\n  // 输出排序后的学生姓名\n  students.forEach(student => process.stdout.write(`${student.name} `));\n  process.stdout.write('\\n');\n\n  // 关闭 readline 接口\n  rl.close();\n}\n\n// 调用异步处理函数\nprocessInput();",
    "cpp": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n// 定义学生类\nclass Student {\npublic:\n    string name; // 学生姓名\n    int totalScore; // 学生总分\n    map<string, int> scores; // 存储学生各科成绩的映射\n\n    // 构造函数，初始化学生姓名和总分\n    Student(const string& name) : name(name), totalScore(0) {}\n\n    // 添加成绩的方法，同时累加到总分\n    void addScore(const string& subject, int score) {\n        scores[subject] = score; // 设置指定科目的成绩\n        totalScore += score; // 累加到总分\n    }\n\n    // 获取指定科目的成绩\n    int getScore(const string& subject) const {\n        auto it = scores.find(subject); // 查找科目对应的成绩\n        return it != scores.end() ? it->second : 0; // 如果找到，则返回成绩，否则返回0\n    }\n};\n\nint main() {\n    int n, m; // n为学生数量，m为科目数量\n    cin >> n >> m;\n    vector<string> subjects(m); // 存储科目名称的向量\n    for (int i = 0; i < m; ++i) {\n        cin >> subjects[i]; // 输入科目名称\n    }\n    vector<Student> students; // 存储学生对象的向量\n\n    for (int i = 0; i < n; ++i) {\n        string name; // 学生姓名\n        cin >> name; // 输入学生姓名\n        Student student(name); // 创建学生对象\n        for (int j = 0; j < m; ++j) {\n            int score; // 成绩\n            cin >> score; // 输入成绩\n            student.addScore(subjects[j], score); // 添加成绩到学生对象\n        }\n        students.push_back(student); // 将学生对象添加到向量中\n    }\n\n    string rankSubject; // 用作排名的科目名称\n    cin >> rankSubject; // 输入排名科目\n\n    // 对学生进行排序\n    sort(students.begin(), students.end(), [&](const Student& a, const Student& b) {\n        int scoreA = rankSubject.empty() ? a.totalScore : a.getScore(rankSubject); // 获取a的排名科目成绩或总分\n        int scoreB = rankSubject.empty() ? b.totalScore : b.getScore(rankSubject); // 获取b的排名科目成绩或总分\n        if (scoreA != scoreB) {\n            return scoreA > scoreB; // 成绩高的排前面\n        }\n        return a.name < b.name; // 成绩相同则按姓名字典序排列\n    });\n\n    // 输出排序后的学生姓名\n    for (const auto& student : students) {\n        cout << student.name << ' ';\n    }\n    cout << endl;\n\n    return 0;\n}",
    "c": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n\n#define MAX_STUDENTS 100\n#define MAX_SUBJECTS 10\n#define MAX_NAME_LEN 11\n\n// 定义学生结构体\ntypedef struct {\n    char name[MAX_NAME_LEN]; // 学生姓名\n    int totalScore; // 学生总分\n    int scores[MAX_SUBJECTS]; // 存储学生各科成绩的数组\n} Student;\n\n// 定义全局变量\nint n, m; // n为学生数量，m为科目数量\nchar subjects[MAX_SUBJECTS][MAX_NAME_LEN]; // 存储科目名称的数组\nStudent students[MAX_STUDENTS]; // 存储学生对象的数组\nchar rankSubject[MAX_NAME_LEN]; // 用作排名的科目名称\n\n// 定义比较函数，用于 qsort 函数\nint cmp(const void *a, const void *b) {\n    Student *studentA = (Student *)a;\n    Student *studentB = (Student *)b;\n    int scoreA = studentA->totalScore;\n    int scoreB = studentB->totalScore;\n    if (strcmp(rankSubject, \"\") != 0) {\n        for (int i = 0; i < m; ++i) {\n            if (strcmp(rankSubject, subjects[i]) == 0) {\n                scoreA = studentA->scores[i];\n                scoreB = studentB->scores[i];\n                break;\n            }\n        }\n    }\n    if (scoreA != scoreB) {\n        return scoreB - scoreA; // 成绩高的排前面\n    }\n    return strcmp(studentA->name, studentB->name); // 成绩相同则按姓名字典序排列\n}\n\nint main() {\n    scanf(\"%d%d\", &n, &m);\n    for (int i = 0; i < m; ++i) {\n        scanf(\"%s\", subjects[i]);\n    }\n\n    for (int i = 0; i < n; ++i) {\n        scanf(\"%s\", students[i].name);\n        students[i].totalScore = 0;\n        for (int j = 0; j < m; ++j) {\n            scanf(\"%d\", &students[i].scores[j]);\n            students[i].totalScore += students[i].scores[j];\n        }\n    }\n\n    scanf(\"%s\", rankSubject);\n\n    // 对学生进行排序\n    qsort(students, n, sizeof(Student), cmp);\n\n    // 输出排序后的学生姓名\n    for (int i = 0; i < n; ++i) {\n        printf(\"%s \", students[i].name);\n    }\n    printf(\"\\n\");\n\n    return 0;\n}"
  }
}