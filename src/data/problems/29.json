{
  "id": "29",
  "title": "数组拼接",
  "examType": "A",
  "score": 100,
  "description": "现在有多组整数数组，需要将它们合并成一个新的数组。\n合并规则，从每个数组里按顺序取出固定长度的内容合并到新的数组中，取完的内容会删除掉，\n如果该行不足固定长度或者已经为空，则直接取出剩余部分的内容放到新的数组中，继续下一行。",
  "inputDesc": "第一行是每次读取的固定长度，0<长度<10\n第二行是整数数组的数目，0<数目<1000\n第3-n行是需要合并的数组，不同的数组用回车换行分隔，数组内部用逗号分隔，最大不超过100个元素。",
  "outputDesc": "输出一个新的数组，用逗号分隔。",
  "examples": [
    {
      "input": "3\n2\n2,5,6,7,9,5,7\n1,7,4,3,4",
      "output": "2,5,6,1,7,4,7,9,5,3,4,7",
      "explanation": "固定长度3，2个数组。\n第1轮：数组1取[2,5,6]，数组2取[1,7,4]\n第2轮：数组1取[7,9,5]，数组2取[3,4]\n第3轮：数组1取[7]\n合并结果：2,5,6,1,7,4,7,9,5,3,4,7"
    },
    {
      "input": "4\n3\n1,2,3,4,5,6\n1,2,3\n1,2,3,4",
      "output": "1,2,3,4,1,2,3,1,2,3,4,5,6",
      "explanation": "固定长度4，3个数组。\n第1轮：数组1取[1,2,3,4]，数组2取[1,2,3]（不足4个），数组3取[1,2,3,4]\n第2轮：数组1取[5,6]\n合并结果：1,2,3,4,1,2,3,1,2,3,4,5,6"
    }
  ],
  "solution": "**解题思路：**\n\n本题是一道**模拟**问题。\n\n**合并规则：**\n- 每次从每个数组中按顺序取出固定长度L的元素\n- 如果数组剩余元素不足L，取出全部剩余元素\n- 如果数组为空，跳过该数组\n- 循环遍历所有数组，直到所有元素取完\n\n**算法步骤：**\n\n1. 读取固定长度L和数组数目N\n2. 读取N个数组\n3. 循环：依次从每个数组取L个元素（不足则取全部）\n4. 直到所有数组都为空\n5. 输出合并后的结果\n\n**时间复杂度**：O(总元素数)",
  "codes": {
    "java": "import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        // 读取固定长度和整数数组的数目\n        Scanner scanner = new Scanner(System.in);\n        int fixedLength = scanner.nextInt(); // 输入每次取出的固定长度\n        int arrayNum = scanner.nextInt(); // 输入数组数量\n        int totalCount = 0; // 记录所有数组中元素的总数\n\n        // 读取需要合并的数组\n        List<List<Integer>> inputArrays = new ArrayList<>(); // 用于存储所有输入的数组\n        for (int i = 0; i < arrayNum; i++) { // 读取每个数组\n            String inputStr = scanner.next(); // 读取一行输入\n            List<Integer> v = new ArrayList<>(); // 存储当前数组\n            while (inputStr.indexOf(\",\") != -1) { // 查找逗号分隔符\n                int found = inputStr.indexOf(\",\"); // 找到逗号的位置\n                v.add(Integer.parseInt(inputStr.substring(0, found))); // 转换逗号前的部分为整数并添加到数组中\n                inputStr = inputStr.substring(found + 1); // 去除已经处理过的部分\n                totalCount += 1; // 更新总元素个数\n            }\n            v.add(Integer.parseInt(inputStr)); // 添加最后一个元素\n            totalCount += 1; // 更新总元素个数\n            inputArrays.add(v); // 将当前数组添加到数组集合中\n        }\n\n        // 合并数组\n        List<Integer> result = new ArrayList<>(); // 用于存储合并后的结果\n        int num = 0; // 记录已合并的元素数量\n        while (num < totalCount) { // 当合并的元素数量少于总数时继续\n            for (int i = 0; i < inputArrays.size(); i++) { // 遍历所有数组\n                for (int j = 0; j < fixedLength; j++) { // 每次从当前数组中取固定长度的元素\n                    if (inputArrays.get(i).size() > 0) { // 如果当前数组不为空\n                        num += 1; // 更新已处理的元素数量\n                        result.add(inputArrays.get(i).get(0)); // 将第一个元素添加到结果中\n                        inputArrays.get(i).remove(0); // 删除该元素\n                    } else {\n                        break; // 如果当前数组为空，则跳过\n                    }\n                }\n            }\n        }\n\n        // 输出结果\n        for (int i = 0; i < result.size() - 1; i++) { // 输出结果数组，元素之间用逗号分隔\n            System.out.print(result.get(i) + \",\");\n        }\n        System.out.print(result.get(result.size() - 1)); // 输出最后一个元素时不加逗号\n    }\n}",
    "python": "# 读取固定长度和数组的数量\nfixedLength = int(input())  # 每次取出的固定长度\narrayNum = int(input())  # 数组数量\ntotalCount = 0  # 用于记录所有数组中元素的总数\ninputArrays = []  # 存储所有输入的数组\n\n# 读取输入的数组并存储\nfor i in range(arrayNum):  # 读取每个数组\n    inputStr = input()  # 读取输入字符串\n    v = []  # 用于存储当前数组\n    while ',' in inputStr:  # 查找逗号分隔符\n        found = inputStr.index(\",\")  # 找到逗号的位置\n        v.append(int(inputStr[:found]))  # 提取逗号前的部分并转换为整数\n        inputStr = inputStr[found + 1:]  # 删除已经处理过的部分\n        totalCount += 1  # 更新总元素个数\n    v.append(int(inputStr))  # 添加最后一个元素\n    totalCount += 1  # 更新总元素个数\n    inputArrays.append(v)  # 将当前数组添加到数组集合中\n\n# 合并数组\nresult = []  # 用于存储合并后的结果\nnum = 0  # 记录已合并的元素数量\nwhile num < totalCount:  # 当合并的元素数量少于总数时继续\n    for i in range(len(inputArrays)):  # 遍历所有数组\n        for j in range(fixedLength):  # 每次从当前数组中取固定长度的元素\n            if len(inputArrays[i]) > 0:  # 如果当前数组不为空\n                num += 1  # 更新已处理的元素数量\n                result.append(inputArrays[i][0])  # 将第一个元素添加到结果中\n                inputArrays[i].pop(0)  # 删除该元素\n            else:\n                break  # 如果当前数组为空，则跳过\n\n# 输出结果\nfor i in range(len(result) - 1):  # 输出结果数组，元素之间用逗号分隔\n    print(result[i], end=',')\nprint(result[-1])  # 输出最后一个元素时不加逗号",
    "javascript": "const readline = require(\"readline\");  // 引入读取输入的模块\n\nconst rl = readline.createInterface({\n  input: process.stdin,  // 定义输入流\n  output: process.stdout,  // 定义输出流\n});\n\nconst input = [];  // 存储输入的所有数据\n\nrl.on(\"line\", (line) => {  // 监听每一行的输入\n  input.push(line);  // 将输入的行添加到数组中\n\n  if (input.length === parseInt(input[1]) + 2) {  // 当输入完所有数据后\n    const fixedLength = parseInt(input[0]);  // 获取固定长度\n    const numOfArrays = parseInt(input[1]);  // 获取数组数量\n    const arrays = input.slice(2).map((line) => line.split(\",\").map(Number));  // 将输入的字符串转换为二维数组\n    const mergedArray = [];  // 用于存储合并后的数组\n\n    while (arrays.length) {  // 当还有未处理的数组时继续\n      for (let i = 0; i < arrays.length; i++) {  // 遍历每个数组\n        const array = arrays[i];  // 获取当前数组\n        if (array.length === 0) {  // 如果当前数组为空，则删除它\n          arrays.splice(i, 1);\n        } else {\n          mergedArray.push(...array.splice(0, fixedLength));  // 否则取出固定长度的元素并添加到合并后的数组中\n        }\n      }\n    }\n\n    console.log(mergedArray.join(\",\"));  // 输出最终合并的数组\n\n    input.length = 0;  // 清空输入数组，准备下一次输入\n  }\n});",
    "cpp": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n    // 读取固定长度和整数数组的数目\n    int fixedLength, arrayNum;\n    cin >> fixedLength >> arrayNum; // 输入每次取出的固定长度和数组的数量\n    int totalCount = 0; // 记录所有数组中元素的总数\n\n    // 读取需要合并的数组\n    vector<vector<int>> inputArrays; // 创建二维数组来存储所有输入的整数数组\n    for (int i = 0; i < arrayNum; i++) { // 循环读取每个数组\n        string inputStr;\n        cin >> inputStr; // 读取数组输入字符串\n        vector<int> v; // 用于存储当前数组的整数\n        while (inputStr.find(',') != string::npos) { // 查找逗号分隔符来分割字符串\n            int found = inputStr.find(','); // 找到逗号的位置\n            v.push_back(stoi(inputStr.substr(0, found))); // 截取逗号前的部分转换为整数并存储\n            inputStr = inputStr.substr(found + 1); // 去除已经处理过的部分\n            totalCount += 1; // 更新总元素个数\n        }\n        v.push_back(stoi(inputStr)); // 添加最后一个元素\n        totalCount += 1; // 更新总元素个数\n        inputArrays.push_back(v); // 将当前数组存储到数组集合中\n    }\n\n    // 合并数组\n    vector<int> result; // 存储合并后的结果\n    int num = 0; // 记录已经合并的元素数量\n    while (num < totalCount) { // 当合并的元素数量少于总数时继续\n        for (int i = 0; i < inputArrays.size(); i++) { // 遍历所有数组\n            for (int j = 0; j < fixedLength; j++) { // 每次从当前数组中取固定长度的元素\n                if (!inputArrays[i].empty()) { // 如果数组不为空\n                    num += 1; // 更新已处理的元素数量\n                    result.push_back(inputArrays[i][0]); // 将第一个元素添加到结果中\n                    inputArrays[i].erase(inputArrays[i].begin()); // 删除该元素\n                } else {\n                    break; // 如果当前数组为空，则跳过\n                }\n            }\n        }\n    }\n\n    // 输出结果\n    for (int i = 0; i < result.size() - 1; i++) { // 输出结果数组，元素之间用逗号分隔\n        cout << result[i] << \",\";\n    }\n    cout << result[result.size() - 1]; // 输出最后一个元素时不加逗号\n\n    return 0; // 程序结束\n}",
    "c": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\nint main() {\n    int fixedLength, arrayNum;\n    int totalCount = 0;  // 记录所有数组中元素的总数\n    \n    // 读取固定长度和数组数量\n    scanf(\"%d %d\", &fixedLength, &arrayNum);\n    \n    // 分配二维数组的内存用于存储输入的数组\n    int** inputArrays = (int**)malloc(arrayNum * sizeof(int*));\n    int* arrayLengths = (int*)malloc(arrayNum * sizeof(int));  // 记录每个数组的长度\n\n    // 读取输入的数组\n    for (int i = 0; i < arrayNum; i++) {\n        char inputStr[2000];   \n        scanf(\"%s\", inputStr);  // 读取一行输入\n        \n        // 分配空间存储当前数组的元素 \n        inputArrays[i] = (int*)malloc(2000 * sizeof(int));\n        int len = 0;  // 当前数组的长度\n        char* token = strtok(inputStr, \",\");  // 使用逗号作为分隔符分割字符串\n        \n        // 分割字符串并转换为整数存入当前数组\n        while (token != NULL) {\n            inputArrays[i][len++] = atoi(token);  // 将字符串转换为整数并存入数组\n            token = strtok(NULL, \",\");  // 获取下一个逗号后的字符串\n            totalCount++;  // 更新总元素个数\n        }\n        arrayLengths[i] = len;  // 记录当前数组的长度\n    }\n    \n    // 合并数组\n    int* result = (int*)malloc(totalCount * sizeof(int));  // 分配空间存储合并后的数组\n    int num = 0;  // 已经处理的元素数量\n    \n    // 按顺序合并所有数组中的元素\n    while (num < totalCount) {\n        for (int i = 0; i < arrayNum; i++) {  // 遍历所有数组\n            for (int j = 0; j < fixedLength; j++) {  // 每次取出固定长度的元素\n                if (arrayLengths[i] > 0) {  // 如果当前数组还有剩余元素\n                    result[num++] = inputArrays[i][0];  // 将第一个元素加入结果数组\n                    // 移动数组，将当前数组的元素向前平移\n                    for (int k = 0; k < arrayLengths[i] - 1; k++) {\n                        inputArrays[i][k] = inputArrays[i][k + 1];\n                    }\n                    arrayLengths[i]--;  // 更新当前数组的长度\n                } else {\n                    break;  // 如果当前数组为空，跳出循环\n                }\n            }\n        }\n    }\n    \n    // 输出合并后的结果\n    for (int i = 0; i < totalCount - 1; i++) {\n        printf(\"%d,\", result[i]);  // 输出每个元素，并在元素之间加上逗号\n    }\n    printf(\"%d\\n\", result[totalCount - 1]);  // 输出最后一个元素，不加逗号\n\n    // 释放分配的内存\n    for (int i = 0; i < arrayNum; i++) {\n        free(inputArrays[i]);  // 释放每个数组的内存\n    }\n    free(inputArrays);  // 释放存储所有数组的指针\n    free(arrayLengths);  // 释放记录数组长度的内存\n    free(result);  // 释放结果数组的内存\n\n    return 0;\n}"
  }
}