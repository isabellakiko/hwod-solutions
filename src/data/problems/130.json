{
  "id": "130",
  "title": "最长子字符串的长度",
  "examType": "A",
  "score": 200,
  "description": "给你一个字符串 s，字符串s首尾相连成一个环形 ，请你在环中找出’l’、‘o’、‘x’ 字符都恰好出现了偶数次最长子字符串的长度。",
  "inputDesc": "输入是一串小写的字母组成的字符串s。\n1 <= s.length <= 5 x 10^5\ns 只包含小写英文字母。",
  "outputDesc": "输出是一个整数\n输入\n输出\n说明：最长子字符串之一是 “alolob”，它包含 ‘l’，'o’各 2 个，以及 0 个 ‘x’ 。\n输入\n输出\n说明\n最长子字符串是 “oxdolxl”，由于是首尾连接在一起的，所以最后一个 ‘x’ 和开头的 'l’是连接在一起的，此字符串包含 2 个 ‘l’ ，2个 ‘o’ ，2个 ‘x’ 。\n输入\n输出\n说明\n字符串 “bcbcbc” 本身就是最长的，因为 ‘l’、‘o’、‘x’ 都出现了 0 次。",
  "examples": [
    {
      "input": "alolobo",
      "output": "6",
      "explanation": "最长子字符串'alolob'，包含l出现2次，o出现2次，x出现0次，都是偶数"
    },
    {
      "input": "looxdolx",
      "output": "7",
      "explanation": "环形字符串，'oxdolxl'(最后x连接开头l)，l/o/x各出现2次"
    },
    {
      "input": "bcbcbc",
      "output": "6",
      "explanation": "整个字符串都满足条件，l/o/x都出现0次（偶数）"
    }
  ],
  "solution": "**解题思路：**\n\n本题是一道**环形字符串+枚举**问题。\n\n**核心思路：**\n- 字符串首尾相连成环\n- 枚举每个起点，统计l/o/x出现次数\n- 次数都为偶数时更新最大长度\n\n**算法步骤：**\n1. 外层循环枚举起点i\n2. 内层循环扩展子串，用(i+j)%n处理环形\n3. 统计l/o/x计数，都为偶数时更新答案\n\n**时间复杂度**：O(N²)",
  "codes": {
    "java": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String s = scanner.next();\n\n        // 调用findLongestSubstringLength方法计算并返回结果\n        int result = findLongestSubstringLength(s);\n        // 打印结果\n        System.out.println(result);\n    }\n\n    // 定义一个私有静态方法，用于找出满足条件的最长子字符串的长度\n    private static int findLongestSubstringLength(String s) {\n        // 获取输入字符串的长度\n        int n = s.length();\n        // 初始化最长子字符串长度为0\n        int maxLength = 0;\n\n        // 外层循环，从字符串的每一个字符开始检查\n        for (int i = 0; i < n; i++) {\n            // 初始化'l'、'o'和'x'的计数器\n            int countL = 0, countO = 0, countX = 0;\n\n            // 内层循环，从当前字符开始，遍历整个字符串\n            for (int j = 0; j < n; j++) {\n                // 计算当前字符的索引，处理环形字符串的情况\n                int index = (i + j) % n;\n                // 获取当前字符\n                char ch = s.charAt(index);\n\n                // 根据当前字符增加相应字符的计数\n                if (ch == 'l') countL++;\n                else if (ch == 'o') countO++;\n                else if (ch == 'x') countX++;\n\n                // 如果'l'、'o'和'x'出现的次数都是偶数\n                if (countL % 2 == 0 && countO % 2 == 0 && countX % 2 == 0) {\n                    // 更新最长子字符串的长度\n                    maxLength = Math.max(maxLength, j + 1);\n                }\n            }\n        }\n\n        // 返回最长子字符串的长度\n        return maxLength;\n    }\n}",
    "python": "# 定义一个函数，用于找出满足条件的最长子字符串的长度\ndef find_longest_substring_length(s):\n    # 获取输入字符串的长度\n    n = len(s)\n    # 初始化最长子字符串长度为 0\n    max_length = 0\n\n    # 外层循环，从字符串的每一个字符开始检查\n    for i in range(n):\n        # 初始化 'l'、'o' 和 'x' 的计数器\n        count_l = 0\n        count_o = 0\n        count_x = 0\n\n        # 内层循环，从当前字符开始，遍历整个字符串\n        for j in range(n):\n            # 计算当前字符的索引，处理环形字符串的情况\n            index = (i + j) % n\n            # 获取当前字符\n            ch = s[index]\n\n            # 根据当前字符增加相应字符的计数\n            if ch == 'l':\n                count_l += 1\n            elif ch == 'o':\n                count_o += 1\n            elif ch == 'x':\n                count_x += 1\n\n            # 如果 'l'、'o' 和 'x' 出现的次数都是偶数\n            if count_l % 2 == 0 and count_o % 2 == 0 and count_x % 2 == 0:\n                # 更新最长子字符串的长度\n                max_length = max(max_length, j + 1)\n\n    # 返回最长子字符串的长度\n    return max_length\n\n# 主函数\nif __name__ == '__main__':\n    # 从标准输入读取字符串\n    s = input()\n    # 调用 find_longest_substring_length 函数计算并返回结果\n    result = find_longest_substring_length(s)\n    # 打印结果\n    print(result)",
    "javascript": "const readline = require('readline');\n\nconst rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout\n});\n\nrl.on('line', (s) => {\n  const n = s.length;\n  let maxLength = 0;\n\n  for (let i = 0; i < n; i++) {\n    let countL = 0, countO = 0, countX = 0;\n\n    for (let j = 0; j < n; j++) {\n      const index = (i + j) % n;\n      const ch = s[index];\n\n      if (ch === 'l') countL++;\n      else if (ch === 'o') countO++;\n      else if (ch === 'x') countX++;\n\n      if (countL % 2 === 0 && countO % 2 === 0 && countX % 2 === 0) {\n        maxLength = Math.max(maxLength, j + 1);\n      }\n    }\n  }\n\n  console.log(maxLength);\n  rl.close();\n});",
    "cpp": "#include <iostream>\n#include <string>\n#include <algorithm> // 用于std::max函数\n\n\n\n// 定义一个函数，用于找出满足条件的最长子字符串的长度\nint findLongestSubstringLength(const std::string &s) {\n    // 获取输入字符串的长度\n    int n = s.length();\n    // 初始化最长子字符串长度为0\n    int maxLength = 0;\n\n    // 外层循环，从字符串的每一个字符开始检查\n    for (int i = 0; i < n; i++) {\n        // 初始化'l'、'o'和'x'的计数器\n        int countL = 0, countO = 0, countX = 0;\n\n        // 内层循环，从当前字符开始，遍历整个字符串\n        for (int j = 0; j < n; j++) {\n            // 计算当前字符的索引，处理环形字符串的情况\n            int index = (i + j) % n;\n            // 获取当前字符\n            char ch = s[index];\n\n            // 根据当前字符增加相应字符的计数\n            if (ch == 'l') countL++;\n            else if (ch == 'o') countO++;\n            else if (ch == 'x') countX++;\n\n            // 如果'l'、'o'和'x'出现的次数都是偶数\n            if (countL % 2 == 0 && countO % 2 == 0 && countX % 2 == 0) {\n                // 更新最长子字符串的长度\n                maxLength = std::max(maxLength, j + 1);\n            }\n        }\n    }\n\n    // 返回最长子字符串的长度\n    return maxLength;\n}\n\n// 主函数\nint main() {\n    std::string s;\n    // 从标准输入读取字符串\n    std::cin >> s;\n\n    // 调用findLongestSubstringLength函数计算并返回结果\n    int result = findLongestSubstringLength(s);\n    // 打印结果\n    std::cout << result << std::endl;\n\n    return 0;\n}",
    "c": "#include <stdio.h>\n#include <string.h> // 用于strlen函数\n\n// 定义一个函数，用于找出满足条件的最长子字符串的长度\nint findLongestSubstringLength(const char *s) {\n    // 获取输入字符串的长度\n    int n = strlen(s);\n    // 初始化最长子字符串长度为0\n    int maxLength = 0;\n\n    // 外层循环，从字符串的每一个字符开始检查\n    for (int i = 0; i < n; i++) {\n        // 初始化'l'、'o'和'x'的计数器\n        int countL = 0, countO = 0, countX = 0;\n\n        // 内层循环，从当前字符开始，遍历整个字符串\n        for (int j = 0; j < n; j++) {\n            // 计算当前字符的索引，处理环形字符串的情况\n            int index = (i + j) % n;\n            // 获取当前字符\n            char ch = s[index];\n\n            // 根据当前字符增加相应字符的计数\n            if (ch == 'l') countL++;\n            else if (ch == 'o') countO++;\n            else if (ch == 'x') countX++;\n\n            // 如果'l'、'o'和'x'出现的次数都是偶数\n            if (countL % 2 == 0 && countO % 2 == 0 && countX % 2 == 0) {\n                // 更新最长子字符串的长度\n                int currentLength = j + 1;\n                maxLength = (maxLength > currentLength) ? maxLength : currentLength;\n            }\n        }\n    }\n\n    // 返回最长子字符串的长度\n    return maxLength;\n}\n\n// 主函数\nint main() {\n    char s[1001]; // 假设字符串长度不超过1000\n    // 从标准输入读取字符串\n    scanf(\"%s\", s);\n\n    // 调用findLongestSubstringLength函数计算并返回结果\n    int result = findLongestSubstringLength(s);\n    // 打印结果\n    printf(\"%d\\n\", result);\n\n    return 0;\n}"
  }
}